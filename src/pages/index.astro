---
import PostHogLayout from "../layouts/PostHogLayout.astro";
import Announcements from "../components/announcement-bar.astro";
import ProfileCard from "../components/profileCard.astro";
import { Image } from "astro:assets";
import logo from "../assets/new-logo.png";
const STRAPI_ROOT = import.meta.env.STRAPI_ROOT;

const resp = await fetch(`${STRAPI_ROOT}/api/global-setting?populate=*`);
const json = await resp.json();
const globalData = json.data;
---

<PostHogLayout>
  <Announcements />
  <div>
    <ProfileCard {...globalData} />
    <Image src={logo} alt="Adam Snape Logo" class="logo" width="35" height="35" format="avif" widths={[70, 140]} sizes="75px" />
    <p class="small center">&copy; Adam Snape 2025</p>
  </div>
</PostHogLayout>

<style>
  .logo {
    width: auto;
    height: 70px;
    margin: 50px auto 0;
    display: block;
    background-color: var(--clr-white);
    padding: 0.5rem;
  }
</style>
